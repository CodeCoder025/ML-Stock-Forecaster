from sklearn.linear_model import LinearRegression
from sklearn.preprocessing import MinMaxScaler
minMaxScaler = MinMaxScaler(feature_range=(0,1))
scaledTrainData = pd.DataFrame(minMaxScaler.fit_transform(trainingData.drop(columns=["%changeTomorrow"])), columns = [i for i in trainingData.columns.to_list() if i != "%changeTomorrow"])

nRows, nCols = trainingData.shape
def chronologicalSplit(x):
    trainingRows = int(x*nRows)
    trainingSet = scaledTrainData.loc[0:trainingRows]
    testSet = scaledTrainData.loc[trainingRows+1:]
    return trainingSet, testSet
trainData, testData = chronologicalSplit(0.8)

trainData["%changeTomorrow"] = trainingData["%changeTomorrow"]
testData["%changeTomorrow"] = trainingData["%changeTomorrow"]
linearRegModel = LinearRegression()
linearRegModel.fit(trainData.drop(columns = ["%changeTomorrow"]), trainData["%changeTomorrow"])
linearRegModelPreds =  linearRegModel.predict(testData.drop(columns=["%changeTomorrow"]))

nRows, nCols = trainingData.shape
def chronologicalSplit(x):
    trainingRows = int(x*nRows)
    trainingSet = trainingData.loc[0:trainingRows]
    testSet = trainingData.loc[trainingRows+1:]
    return trainingSet, testSet
trainingData, testData = chronologicalSplit(0.8)

from sklearn.linear_model import LinearRegression
from sklearn.preprocessing import MinMaxScaler
minMaxScaler = MinMaxScaler(feature_range=(0,1))
scaledTrainData = pd.DataFrame(minMaxScaler.fit_transform(trainingData.drop(columns=["%changeTomorrow"])), columns = [i for i in trainingData.columns.to_list() if i != "%changeTomorrow"])
scaledTestData = pd.DataFrame(minMaxScaler.fit_transform(testData.drop(columns=["%changeTomorrow"])), columns = [i for i in trainingData.columns.to_list() if i != "%changeTomorrow"])
scaledTrainData["%changeTomorrow"] = trainingData["%changeTomorrow"]
scaledTestData["%changeTomorrow"] = testData["%changeTomorrow"]
linearRegModel = LinearRegression()
linearRegModel.fit(scaledTrainData.drop(columns = ["%changeTomorrow"]), scaledTrainData["%changeTomorrow"])
linearRegModelPreds =  linearRegModel.predict(testData.drop(columns=["%changeTomorrow"]))

